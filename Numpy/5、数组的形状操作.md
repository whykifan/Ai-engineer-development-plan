# 形状操作
Numpy 有一个强大之处在于可以很方便的修改生成的N维数组的形状。

**关于数组轴的说明:**
![数组轴向](https://img-blog.csdn.net/20180619114910444?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rkd295cw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)
## 1、修改数组形状
函数|描述
-:|:-
`reshape`|不改变数据的条件下修改形状
`flat`|数组元素迭代器
`flatten`|返回一份数组拷贝，对拷贝所做的修改不会影响原始数组
`ravel`|返回展开数组

**无论是`ravel`、`reshape`、`T`，它们都不会更改原有的数组形状，都是返回一个新的数组。**

 **numpy.reshape**
numpy.reshape函数可以在不改变数据的条件下修改形状，格式如下： **numpy.reshape(arr, newshape, order='C')**
-   `arr`：要修改形状的数组
-   `newshape`：整数或者整数数组，新的形状应当兼容原有形状
-   order：'C' -- 按行，'F' -- 按列，'A' -- 原顺序，'k' -- 元素在内存中的出现顺序。

```python
>>>a = np.arange(8)
[0  1  2  3  4  5  6  7]
>>>b = a.reshape(4,2)
[[0  1]  
 [2  3] 
 [4  5]  	
 [6  7]]
```
 **numpy.ndarray.flat**
numpy.ndarray.flat 是一个数组元素迭代器，实例如下
```python
a = np.arange(6).reshape(2,3)  
for  row  in  a: 
	print  (row) 

#对数组中每个元素都进行处理，可以使用flat属性，
#该属性是一个数组元素迭代器：    
for  element  in  a.flat: 
	 print  (element)

[0  1  2] 
[3  4  5]

0  1  2  3  4  5
```
**numpy.ndarray.flatten**
numpy.ndarray.flatten 返回一份数组拷贝，对拷贝所做的修改不会影响原始数组，格式如下：
>ndarray.flatten(order='C')
-   order：'C' -- 按行，'F' -- 按列，'A' -- 原顺序，'K' -- 元素在内存中的出现顺序。
```python
a = np.arange(8).reshape(2,4) 
# 默认按行
print  (a.flatten()) 
print  (a.flatten(order = 'F'))
"""原数组："""
[[0  1  2  3]  [4  5  6  7]]  
"""展开的数组："""  
[0  1  2  3  4  5  6  7] 
 """以F风格顺序展开的数组："""  
[0  4  1  5  2  6  3  7]
```
**numpy.ravel**
numpy.ravel() 展平的数组元素，顺序通常是"C风格"，返回的是数组视图（view），修改会影响原始数组。
>numpy.ravel(a, order='C')
```python
a = np.arange(8).reshape(2,4)
print  (a.ravel(order = 'F'))
[0  4  1  5  2  6  3  7]
```
## 2、反转数组
函数|描述
-|-
`transpose`|对换数组的维度
`ndarray.T`|和  `self.transpose()`  相同
`rollaxis`|向后滚动指定的轴
`swapaxes`|对换数组的两个轴

 **numpy.transpose**
numpy.transpose 函数用于对换数组的维度，格式如下：
>numpy.transpose(arr, axes)
-   `arr`：要操作的数组
-   `axes`：整数列表，对应维度，通常所有维度都会对换。
```python
a = np.arange(12).reshape(3,4)
print  (a  )
print  (np.transpose(a)) 
# print  (a.T)
#原数组：  
[[  0  1  2  3]  
 [  4  5  6  7]  
 [  8  9  10  11]]  
#对换数组：  
[[  0  4  8] 
 [  1  5  9]  
 [  2  6  10]  
 [  3  7  11]]
```
**numpy.rollaxis**
numpy.rollaxis 函数向后滚动特定的轴到一个特定位置，格式如下：
>numpy.rollaxis(arr, axis, start)
-   `arr`：数组
-   `axis`：要向后滚动的轴，其它轴的相对位置不会改变
-   `start`：默认为零，表示完整的滚动。会滚动到特定位置。
```python
a = np.arange(8).reshape(2,2,2)
# 将轴2 滚动到轴0（宽度到深度） 
print  (np.rollaxis(a,2))
# 将轴 0 滚动到轴 1：（宽度到高度）
print  (np.rollaxis(a,2,1))
#原数组：
[[[0  1] 
 [2  3]] 
 [[4  5] 
 [6  7]]]  
 
[[[0  2] 
 [4  6]] 
 [[1  3]
 [5  7]]]  
 
[[[0  2] 
 [1  3]] 
 [[4  6] 
  [5  7]]]
```
 **numpy.swapaxes**
numpy.swapaxes 函数用于交换数组的两个轴，格式如下：
>numpy.swapaxes(arr, axis1, axis2)
-   `arr`：输入的数组
-   `axis1`：对应第一个轴的整数
-   `axis2`：对应第二个轴的整数
```python
>>>a = np.arange(8).reshape(2,2,2) 
[[[0  1]  
  [2  3]]
 
 [[4  5]  
  [6  7]]]
>>>np.swapaxes(a, 2, 0)
[[[0  4]  
  [2  6]]  

  [[1  5]  
  [3  7]]]
```
## 连接数组

